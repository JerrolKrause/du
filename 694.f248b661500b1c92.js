"use strict";(self.webpackChunkangular_starter=self.webpackChunkangular_starter||[]).push([[694],{694:(X,m,e)=>{e.r(m),e.d(m,{LoanModule:()=>U});var h=e(177),d=e(1449),o=e(6609),u=e(491),f=e(1935),T=e(8359),l=e(6354),t=e(4438),g=e(4412),M=e(3543);let v=(()=>{class n{constructor(){this.loanDetailsLoadingState$=new g.t(o.Bj.LoadingState.Unloaded),this.loanDetails$=new g.t(null),this.loanDetailsErrorMessage$=new g.t("")}getLoanDetails(i){this.loanDetailsLoadingState$.next(o.Bj.LoadingState.Loading),this.loanDetails$.next(null),this.loanDetailsErrorMessage$.next(""),setTimeout(()=>{const a=M.A.find(r=>r.id===i);a?(this.loanDetails$.next({id:a.id,type:a.type,status:a.status,verifications:[{type:o.Bj.VerificationTypes.Identity,status:o.Bj.VerificationStatus.Verified},{type:o.Bj.VerificationTypes.Income,status:o.Bj.VerificationStatus.ActionRequired},{type:o.Bj.VerificationTypes.Vehicle,status:o.Bj.VerificationStatus.ActionRequired}]}),this.loanDetailsLoadingState$.next(o.Bj.LoadingState.Success)):(this.loanDetailsErrorMessage$.next("Loan not found"),this.loanDetailsLoadingState$.next(o.Bj.LoadingState.Error))},500)}static#t=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})();var I=e(4171),x=e(1727),$=e(9500),y=e(2214),L=e(2646),F=e(5409);function j(n,c){if(1&n&&(t.j41(0,"div",4),t.EFF(1),t.nI1(2,"safeLoanId"),t.j41(3,"span",5),t.EFF(4),t.nI1(5,"loanStatus"),t.k0s()()),2&n){const i=c.ngIf;t.R7$(),t.SpI(" Loan ",t.bMT(2,2,i.id)," | "),t.R7$(3),t.JRh(t.bMT(5,4,i.status))}}let O=(()=>{class n{constructor(){this.loanDetails=t.hFB.required()}static#t=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-loan-back-nav"]],inputs:{loanDetails:[t.Mj6.SignalBased,"loanDetails"]},decls:4,vars:1,consts:[[1,"nav"],["routerLink","/"],["icon","chevronLeft"],["class","center",4,"ngIf"],[1,"center"],[1,"status"]],template:function(a,r){1&a&&(t.j41(0,"div",0)(1,"a",1),t.nrm(2,"app-icons",2),t.k0s()(),t.DNE(3,j,6,6,"div",3)),2&a&&(t.R7$(3),t.Y8G("ngIf",r.loanDetails()))},dependencies:[h.bT,f.Wk,y.IconsComponent,L.t,F.d],styles:["[_nghost-%COMP%]{display:flex;width:100%;background-color:var(--Primary-OMF-Sky);color:var(--Primary-OMF-White);align-items:center;height:50px;font-size:15px;line-height:20px;padding-left:var(--body-padding);padding-right:var(--body-padding)}.nav[_ngcontent-%COMP%]{text-align:left;width:10%}.center[_ngcontent-%COMP%]{width:80%;text-align:center}a[_ngcontent-%COMP%]{color:var(--Primary-OMF-White)}app-icons[_ngcontent-%COMP%]{color:var(--Primary-OMF-White);font-size:20px}.status[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0})}return n})(),V=(()=>{class n{transform(i){switch(i){case o.Bj.VerificationTypes.Identity:return"identity";case o.Bj.VerificationTypes.Income:return"income";case o.Bj.VerificationTypes.Vehicle:return"vehicle information";default:return"Unknown"}}static#t=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275pipe=t.EJ8({name:"verificationType",type:n,pure:!0})}return n})();function D(n,c){if(1&n&&(t.j41(0,"div",0)(1,"span"),t.EFF(2),t.nI1(3,"verificationType"),t.k0s(),t.nrm(4,"app-icons",1),t.k0s()),2&n){const i=t.XpG();t.Y8G("routerLink",i.route()),t.R7$(2),t.SpI("Verify ",t.bMT(3,2,i.verificationTask().type),"")}}function k(n,c){if(1&n&&(t.j41(0,"div",2),t.nrm(1,"app-icons",3),t.j41(2,"span",4)(3,"span"),t.EFF(4),t.nI1(5,"verificationType"),t.k0s(),t.j41(6,"span",5),t.EFF(7,"Verified"),t.k0s()()()),2&n){const i=t.XpG();t.R7$(4),t.SpI("Verify ",t.bMT(5,1,i.verificationTask().type),"")}}let P=(()=>{class n{constructor(){this.verificationTask=t.hFB.required(),this.isActionable=(0,t.EWP)(()=>o.Bj.ACTIONABLE_VERIFICATIONS.includes(this.verificationTask().status)),this.route=(0,t.EWP)(()=>{if(this.isActionable())switch(this.verificationTask().type){case o.Bj.VerificationTypes.Identity:return"identity";case o.Bj.VerificationTypes.Income:return"income";case o.Bj.VerificationTypes.Vehicle:return"vehicle"}return null})}static#t=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-verification-task"]],inputs:{verificationTask:[t.Mj6.SignalBased,"verificationTask"]},decls:2,vars:1,consts:[[1,"actionable",3,"routerLink"],["icon","chevronRight"],[1,"verified"],["icon","checkCircleOutline"],[1,"label"],[1,"status"]],template:function(a,r){1&a&&t.DNE(0,D,5,4,"div",0)(1,k,8,3),2&a&&t.vxM(0,r.isActionable()?0:1)},dependencies:[f.Wk,y.IconsComponent,V],styles:["[_nghost-%COMP%]{display:flex;align-items:center;background-color:var(--Primary-OMF-White);height:70px;padding-left:var(--body-padding);padding-right:var(--body-padding);font-size:20px;line-height:32px;font-weight:400}.actionable[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer}.actionable[_ngcontent-%COMP%]   app-icons[_ngcontent-%COMP%]{color:var(--Primary-OMF-Sky);font-size:20px}.verified[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.verified[_ngcontent-%COMP%]   app-icons[_ngcontent-%COMP%]{font-size:22px;margin-right:15px}.label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.status[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:22px;color:var(--Font-Gray)}"],changeDetection:0})}return n})();const C=(n,c)=>c.type;function S(n,c){1&n&&t.nrm(0,"app-loading-spinner")}function B(n,c){1&n&&t.nrm(0,"app-verification-task",1),2&n&&t.Y8G("verificationTask",c.$implicit)}function b(n,c){if(1&n&&(t.j41(0,"h3"),t.EFF(1,"New"),t.k0s(),t.j41(2,"nav"),t.Z7z(3,B,1,1,"app-verification-task",1,C),t.nI1(5,"async"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(3),t.Dyx(t.bMT(5,0,i.newVerifications$))}}function E(n,c){1&n&&t.nrm(0,"app-verification-task",1),2&n&&t.Y8G("verificationTask",c.$implicit)}function A(n,c){if(1&n&&(t.j41(0,"h3"),t.EFF(1,"Completed"),t.k0s(),t.j41(2,"nav"),t.Z7z(3,E,1,1,"app-verification-task",1,C),t.nI1(5,"async"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(3),t.Dyx(t.bMT(5,0,i.completedVerifications$))}}function N(n,c){if(1&n&&(t.j41(0,"h2"),t.EFF(1),t.nI1(2,"async"),t.k0s(),t.DNE(3,b,6,2),t.nI1(4,"async"),t.DNE(5,A,6,2),t.nI1(6,"async")),2&n){const i=t.XpG();t.R7$(),t.SpI("You have ",t.bMT(2,3,i.tasksToComplete$)," tasks to complete"),t.R7$(2),t.vxM(3,t.bMT(4,5,i.hasNewVerifications$)?3:-1),t.R7$(2),t.vxM(5,t.bMT(6,7,i.hasCompletedVerifications$)?5:-1)}}function R(n,c){if(1&n&&(t.j41(0,"p-card")(1,"h2"),t.EFF(2,"There was an error loading your loan details."),t.k0s(),t.j41(3,"p"),t.EFF(4),t.nI1(5,"async"),t.k0s()()),2&n){const i=t.XpG();t.R7$(4),t.SpI("Details: ",t.bMT(5,1,i.routeApi.loanDetailsErrorMessage$),"")}}const G=[{path:":loanId/vehicle",loadChildren:()=>Promise.all([e.e(542),e.e(793)]).then(e.bind(e,1174)).then(n=>n.VehicleModule)},{path:":loanId/income",loadChildren:()=>e.e(596).then(e.bind(e,5596)).then(n=>n.IncomeModule)},{path:":loanId",component:(()=>{class n{constructor(i,a,r){this.route=i,this.globalAPIStore=a,this.routeApi=r,this.subscriptions=new T.yU,this.LoadingState=o.Bj.LoadingState,this.userName$=this.globalAPIStore.loggedInUser$.pipe((0,l.T)(s=>s.name)),this.tasksToComplete$=this.routeApi.loanDetails$.pipe((0,l.T)(s=>s?.verifications.filter(p=>o.Bj.ACTIONABLE_VERIFICATIONS.includes(p.status)).length||0)),this.newVerifications$=this.routeApi.loanDetails$.pipe((0,l.T)(s=>s?.verifications.filter(p=>o.Bj.ACTIONABLE_VERIFICATIONS.includes(p.status))||[])),this.hasNewVerifications$=this.newVerifications$.pipe((0,l.T)(s=>s.length>0)),this.completedVerifications$=this.routeApi.loanDetails$.pipe((0,l.T)(s=>s?.verifications.filter(p=>!o.Bj.ACTIONABLE_VERIFICATIONS.includes(p.status))||[])),this.hasCompletedVerifications$=this.completedVerifications$.pipe((0,l.T)(s=>s.length>0))}ngOnInit(){this.subscriptions.add(this.route.params.pipe((0,l.T)(i=>parseInt(i.loanId,10))).subscribe(i=>this.routeApi.getLoanDetails(i)))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(f.nX),t.rXU(o.Gf),t.rXU(v))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-loan"]],decls:12,vars:9,consts:[[3,"loanDetails"],[3,"verificationTask"]],template:function(a,r){if(1&a&&(t.j41(0,"app-masterpage"),t.nrm(1,"app-loan-back-nav",0),t.nI1(2,"async"),t.j41(3,"section")(4,"h1"),t.EFF(5),t.nI1(6,"async"),t.k0s(),t.DNE(7,S,1,0),t.nI1(8,"async"),t.DNE(9,N,7,9)(10,R,6,3),t.nrm(11,"app-help-panel"),t.k0s()()),2&a){let s;t.R7$(),t.Y8G("loanDetails",t.bMT(2,3,r.routeApi.loanDetails$)),t.R7$(4),t.SpI("Hello, ",t.bMT(6,5,r.userName$),""),t.R7$(2),t.vxM(7,(s=t.bMT(8,7,r.routeApi.loanDetailsLoadingState$))===r.LoadingState.Loading?7:s===r.LoadingState.Success?9:s===r.LoadingState.Error?10:-1)}},dependencies:[I.z,x.HelpPanelComponent,u.Card,$.N,O,P,h.Jj],styles:["[_nghost-%COMP%]{display:block;width:100%}section[_ngcontent-%COMP%]{padding:var(--body-padding)}h1[_ngcontent-%COMP%]{font-size:32px;font-weight:300;line-height:24px;margin-bottom:20px}h2[_ngcontent-%COMP%]{font-size:24px;line-height:32px;font-weight:300;margin-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-bottom:15px}nav[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--body-padding));margin-right:calc(-1 * var(--body-padding));margin-bottom:20px}app-verification-task[_ngcontent-%COMP%]{border-top:1px solid var(--Primary-OMF-Sky-Light)}app-verification-task[_ngcontent-%COMP%]:last-of-type{border-bottom:1px solid var(--Primary-OMF-Sky-Light)}p-card[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:var(--body-padding)}"],changeDetection:0})}return n})(),title:(0,o.Qe)("Loan")},{path:"**",loadChildren:()=>e.e(76).then(e.bind(e,6623)).then(n=>n.NoContentModule),title:(0,o.Qe)("Page Not Found")}],z=f.iI.forChild(G);let U=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({providers:[v],imports:[h.MD,o.Gg,z,d.YD,d.dJ,u.CardModule,d.Gs,d.NB]})}return n})()}}]);